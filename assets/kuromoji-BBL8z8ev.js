function Qa(n,e){for(var t=0;t<e.length;t++){const a=e[t];if(typeof a!="string"&&!Array.isArray(a)){for(const u in a)if(u!=="default"&&!(u in n)){const f=Object.getOwnPropertyDescriptor(a,u);f&&Object.defineProperty(n,u,f.get?f:{enumerable:!0,get:()=>a[u]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}var Qr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bn(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Xa(n,e,t,a,u,f,h,g){this.name=n,this.cost=e,this.start_pos=t,this.length=a,this.left_id=f,this.right_id=h,this.prev=null,this.surface_form=g,u==="BOS"?this.shortest_cost=0:this.shortest_cost=Number.MAX_VALUE,this.type=u}var On=Xa,Un=On;function ce(){this.nodes_end_at=[],this.nodes_end_at[0]=[new Un(-1,0,0,0,"BOS",0,0,"")],this.eos_pos=1}ce.prototype.append=function(n){var e=n.start_pos+n.length-1;this.eos_pos<e&&(this.eos_pos=e);var t=this.nodes_end_at[e];t==null&&(t=[]),t.push(n),this.nodes_end_at[e]=t};ce.prototype.appendEos=function(){var n=this.nodes_end_at.length;this.eos_pos++,this.nodes_end_at[n]=[new Un(-1,0,this.eos_pos,0,"EOS",0,0,"")]};var Ja=ce;function Nr(n){this.str=n,this.index_mapping=[];for(var e=0;e<n.length;e++){var t=n.charAt(e);this.index_mapping.push(e),Nr.isSurrogatePair(t)&&e++}this.length=this.index_mapping.length}Nr.prototype.slice=function(n){if(this.index_mapping.length<=n)return"";var e=this.index_mapping[n];return this.str.slice(e)};Nr.prototype.charAt=function(n){if(this.str.length<=n)return"";var e=this.index_mapping[n],t=this.index_mapping[n+1];return t==null?this.str.slice(e):this.str.slice(e,t)};Nr.prototype.charCodeAt=function(n){if(this.index_mapping.length<=n)return NaN;var e=this.index_mapping[n],t=this.str.charCodeAt(e),a;return t>=55296&&t<=56319&&e<this.str.length&&(a=this.str.charCodeAt(e+1),a>=56320&&a<=57343)?(t-55296)*1024+a-56320+65536:t};Nr.prototype.toString=function(){return this.str};Nr.isSurrogatePair=function(n){var e=n.charCodeAt(0);return e>=55296&&e<=56319};var xn=Nr,In=On,$a=Ja,ue=xn;function Pn(n){this.trie=n.trie,this.token_info_dictionary=n.token_info_dictionary,this.unknown_dictionary=n.unknown_dictionary}Pn.prototype.build=function(n){for(var e=new $a,t=new ue(n),a,u,f,h,g,C=0;C<t.length;C++){for(var U=t.slice(C),G=this.trie.commonPrefixSearch(U),O=0;O<G.length;O++){u=G[O].v,a=G[O].k;for(var W=this.token_info_dictionary.target_map[u],tr=0;tr<W.length;tr++){var nr=parseInt(W[tr]);f=this.token_info_dictionary.dictionary.getShort(nr),h=this.token_info_dictionary.dictionary.getShort(nr+2),g=this.token_info_dictionary.dictionary.getShort(nr+4),e.append(new In(nr,g,C+1,a.length,"KNOWN",f,h,a))}}var ur=new ue(U),Tr=new ue(ur.charAt(0)),vr=this.unknown_dictionary.lookup(Tr.toString());if(G==null||G.length===0||vr.is_always_invoke===1){if(a=Tr,vr.is_grouping===1&&1<ur.length)for(var y=1;y<ur.length;y++){var I=ur.charAt(y),L=this.unknown_dictionary.lookup(I);if(vr.class_name!==L.class_name)break;a+=I}for(var F=this.unknown_dictionary.target_map[vr.class_id],T=0;T<F.length;T++){var w=parseInt(F[T]);f=this.unknown_dictionary.dictionary.getShort(w),h=this.unknown_dictionary.dictionary.getShort(w+2),g=this.unknown_dictionary.dictionary.getShort(w+4),e.append(new In(w,g,C+1,a.length,"UNKNOWN",f,h,a.toString()))}}}return e.appendEos(),e};var ro=Pn;function Rt(n){this.connection_costs=n}Rt.prototype.search=function(n){return n=this.forward(n),this.backward(n)};Rt.prototype.forward=function(n){var e,t,a;for(e=1;e<=n.eos_pos;e++){var u=n.nodes_end_at[e];if(u!=null)for(t=0;t<u.length;t++){var f=u[t],h=Number.MAX_VALUE,g,C=n.nodes_end_at[f.start_pos-1];if(C!=null){for(a=0;a<C.length;a++){var U=C[a],G;f.left_id==null||U.right_id==null?(console.log("Left or right is null"),G=0):G=this.connection_costs.get(U.right_id,f.left_id);var O=U.shortest_cost+G+f.cost;O<h&&(g=U,h=O)}f.prev=g,f.shortest_cost=h}}}return n};Rt.prototype.backward=function(n){var e=[],t=n.nodes_end_at[n.nodes_end_at.length-1][0],a=t.prev;if(a==null)return[];for(;a.type!=="BOS";){if(e.push(a),a.prev==null)return[];a=a.prev}return e.reverse()};var to=Rt;function he(){}he.prototype.formatEntry=function(n,e,t,a){var u={};return u.word_id=n,u.word_type=t,u.word_position=e,u.surface_form=a[0],u.pos=a[1],u.pos_detail_1=a[2],u.pos_detail_2=a[3],u.pos_detail_3=a[4],u.conjugated_type=a[5],u.conjugated_form=a[6],u.basic_form=a[7],u.reading=a[8],u.pronunciation=a[9],u};he.prototype.formatUnknownEntry=function(n,e,t,a,u){var f={};return f.word_id=n,f.word_type=t,f.word_position=e,f.surface_form=u,f.pos=a[1],f.pos_detail_1=a[2],f.pos_detail_2=a[3],f.pos_detail_3=a[4],f.conjugated_type=a[5],f.conjugated_form=a[6],f.basic_form=a[7],f};var eo=he,no=ro,io=to,ao=eo,oo=/、|。/;function $r(n){this.token_info_dictionary=n.token_info_dictionary,this.unknown_dictionary=n.unknown_dictionary,this.viterbi_builder=new no(n),this.viterbi_searcher=new io(n.connection_costs),this.formatter=new ao}$r.splitByPunctuation=function(n){for(var e=[],t=n;t!=="";){var a=t.search(oo);if(a<0){e.push(t);break}e.push(t.substring(0,a+1)),t=t.substring(a+1)}return e};$r.prototype.tokenize=function(n){for(var e=$r.splitByPunctuation(n),t=[],a=0;a<e.length;a++){var u=e[a];this.tokenizeForSentence(u,t)}return t};$r.prototype.tokenizeForSentence=function(n,e){e==null&&(e=[]);var t=this.getLattice(n),a=this.viterbi_searcher.search(t),u=0;e.length>0&&(u=e[e.length-1].word_position);for(var f=0;f<a.length;f++){var h=a[f],g,C,U;h.type==="KNOWN"?(U=this.token_info_dictionary.getFeatures(h.name),U==null?C=[]:C=U.split(","),g=this.formatter.formatEntry(h.name,u+h.start_pos,h.type,C)):h.type==="UNKNOWN"?(U=this.unknown_dictionary.getFeatures(h.name),U==null?C=[]:C=U.split(","),g=this.formatter.formatUnknownEntry(h.name,u+h.start_pos,h.type,C,h.surface_form)):g=this.formatter.formatEntry(h.name,u+h.start_pos,h.type,[]),e.push(g)}return e};$r.prototype.getLattice=function(n){return this.viterbi_builder.build(n)};var uo=$r,so={};/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */(function(){function n(A){throw A}var e=void 0,t=this;function a(A,d){var b=A.split("."),_=t;!(b[0]in _)&&_.execScript&&_.execScript("var "+b[0]);for(var v;b.length&&(v=b.shift());)!b.length&&d!==e?_[v]=d:_=_[v]?_[v]:_[v]={}}var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u"&&typeof DataView<"u";new(u?Uint8Array:Array)(256);function f(A,d,b){var _,v=typeof d=="number"?d:d=0,x=typeof b=="number"?b:A.length;for(_=-1,v=x&7;v--;++d)_=_>>>8^g[(_^A[d])&255];for(v=x>>3;v--;d+=8)_=_>>>8^g[(_^A[d])&255],_=_>>>8^g[(_^A[d+1])&255],_=_>>>8^g[(_^A[d+2])&255],_=_>>>8^g[(_^A[d+3])&255],_=_>>>8^g[(_^A[d+4])&255],_=_>>>8^g[(_^A[d+5])&255],_=_>>>8^g[(_^A[d+6])&255],_=_>>>8^g[(_^A[d+7])&255];return(_^4294967295)>>>0}var h=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],g=u?new Uint32Array(h):h;function C(){}C.prototype.getName=function(){return this.name},C.prototype.getData=function(){return this.data},C.prototype.G=function(){return this.H};function U(A){var d=A.length,b=0,_=Number.POSITIVE_INFINITY,v,x,V,q,K,$,P,j,z,sr;for(j=0;j<d;++j)A[j]>b&&(b=A[j]),A[j]<_&&(_=A[j]);for(v=1<<b,x=new(u?Uint32Array:Array)(v),V=1,q=0,K=2;V<=b;){for(j=0;j<d;++j)if(A[j]===V){for($=0,P=q,z=0;z<V;++z)$=$<<1|P&1,P>>=1;for(sr=V<<16|j,z=$;z<v;z+=K)x[z]=sr;++q}++V,q<<=1,K<<=1}return[x,b,_]}var G;for(G=0;288>G;G++)switch(!0){case 143>=G:break;case 255>=G:break;case 279>=G:break;case 287>=G:break;default:n("invalid literal: "+G)}(function(){function A(v){switch(!0){case v===3:return[257,v-3,0];case v===4:return[258,v-4,0];case v===5:return[259,v-5,0];case v===6:return[260,v-6,0];case v===7:return[261,v-7,0];case v===8:return[262,v-8,0];case v===9:return[263,v-9,0];case v===10:return[264,v-10,0];case 12>=v:return[265,v-11,1];case 14>=v:return[266,v-13,1];case 16>=v:return[267,v-15,1];case 18>=v:return[268,v-17,1];case 22>=v:return[269,v-19,2];case 26>=v:return[270,v-23,2];case 30>=v:return[271,v-27,2];case 34>=v:return[272,v-31,2];case 42>=v:return[273,v-35,3];case 50>=v:return[274,v-43,3];case 58>=v:return[275,v-51,3];case 66>=v:return[276,v-59,3];case 82>=v:return[277,v-67,4];case 98>=v:return[278,v-83,4];case 114>=v:return[279,v-99,4];case 130>=v:return[280,v-115,4];case 162>=v:return[281,v-131,5];case 194>=v:return[282,v-163,5];case 226>=v:return[283,v-195,5];case 257>=v:return[284,v-227,5];case v===258:return[285,v-258,0];default:n("invalid length: "+v)}}var d=[],b,_;for(b=3;258>=b;b++)_=A(b),d[b]=_[2]<<24|_[1]<<16|_[0];return d})();function O(A,d){switch(this.i=[],this.j=32768,this.d=this.f=this.c=this.n=0,this.input=u?new Uint8Array(A):A,this.o=!1,this.k=tr,this.w=!1,(d||!(d={}))&&(d.index&&(this.c=d.index),d.bufferSize&&(this.j=d.bufferSize),d.bufferType&&(this.k=d.bufferType),d.resize&&(this.w=d.resize)),this.k){case W:this.a=32768,this.b=new(u?Uint8Array:Array)(32768+this.j+258);break;case tr:this.a=0,this.b=new(u?Uint8Array:Array)(this.j),this.e=this.D,this.q=this.A,this.l=this.C;break;default:n(Error("invalid inflate mode"))}}var W=0,tr=1;O.prototype.g=function(){for(;!this.o;){var A=cr(this,3);switch(A&1&&(this.o=!0),A>>>=1,A){case 0:var d=this.input,b=this.c,_=this.b,v=this.a,x=d.length,V=e,q=e,K=_.length,$=e;switch(this.d=this.f=0,b+1>=x&&n(Error("invalid uncompressed block header: LEN")),V=d[b++]|d[b++]<<8,b+1>=x&&n(Error("invalid uncompressed block header: NLEN")),q=d[b++]|d[b++]<<8,V===~q&&n(Error("invalid uncompressed block header: length verify")),b+V>d.length&&n(Error("input buffer is broken")),this.k){case W:for(;v+V>_.length;){if($=K-v,V-=$,u)_.set(d.subarray(b,b+$),v),v+=$,b+=$;else for(;$--;)_[v++]=d[b++];this.a=v,_=this.e(),v=this.a}break;case tr:for(;v+V>_.length;)_=this.e({t:2});break;default:n(Error("invalid inflate mode"))}if(u)_.set(d.subarray(b,b+V),v),v+=V,b+=V;else for(;V--;)_[v++]=d[b++];this.c=b,this.a=v,this.b=_;break;case 1:this.l(R,Gt);break;case 2:for(var P=cr(this,5)+257,j=cr(this,5)+1,z=cr(this,4)+4,sr=new(u?Uint8Array:Array)(ur.length),er=e,yr=e,xr=e,fr=e,hr=e,Vr=e,jr=e,H=e,vt=e,H=0;H<z;++H)sr[ur[H]]=cr(this,3);if(!u)for(H=z,z=sr.length;H<z;++H)sr[ur[H]]=0;for(er=U(sr),fr=new(u?Uint8Array:Array)(P+j),H=0,vt=P+j;H<vt;)switch(hr=Ur(this,er),hr){case 16:for(jr=3+cr(this,2);jr--;)fr[H++]=Vr;break;case 17:for(jr=3+cr(this,3);jr--;)fr[H++]=0;Vr=0;break;case 18:for(jr=11+cr(this,7);jr--;)fr[H++]=0;Vr=0;break;default:Vr=fr[H++]=hr}yr=U(u?fr.subarray(0,P):fr.slice(0,P)),xr=U(u?fr.subarray(P):fr.slice(P)),this.l(yr,xr);break;default:n(Error("unknown BTYPE: "+A))}}return this.q()};var nr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ur=u?new Uint16Array(nr):nr,Tr=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],vr=u?new Uint16Array(Tr):Tr,y=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],I=u?new Uint8Array(y):y,L=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],F=u?new Uint16Array(L):L,T=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],w=u?new Uint8Array(T):T,D=new(u?Uint8Array:Array)(288),k,M;for(k=0,M=D.length;k<M;++k)D[k]=143>=k?8:255>=k?9:279>=k?7:8;var R=U(D),X=new(u?Uint8Array:Array)(30),lr,Rr;for(lr=0,Rr=X.length;lr<Rr;++lr)X[lr]=5;var Gt=U(X);function cr(A,d){for(var b=A.f,_=A.d,v=A.input,x=A.c,V=v.length,q;_<d;)x>=V&&n(Error("input buffer is broken")),b|=v[x++]<<_,_+=8;return q=b&(1<<d)-1,A.f=b>>>d,A.d=_-d,A.c=x,q}function Ur(A,d){for(var b=A.f,_=A.d,v=A.input,x=A.c,V=v.length,q=d[0],K=d[1],$,P;_<K&&!(x>=V);)b|=v[x++]<<_,_+=8;return $=q[b&(1<<K)-1],P=$>>>16,P>_&&n(Error("invalid code length: "+P)),A.f=b>>P,A.d=_-P,A.c=x,$&65535}O.prototype.l=function(A,d){var b=this.b,_=this.a;this.r=A;for(var v=b.length-258,x,V,q,K;(x=Ur(this,A))!==256;)if(256>x)_>=v&&(this.a=_,b=this.e(),_=this.a),b[_++]=x;else for(V=x-257,K=vr[V],0<I[V]&&(K+=cr(this,I[V])),x=Ur(this,d),q=F[x],0<w[x]&&(q+=cr(this,w[x])),_>=v&&(this.a=_,b=this.e(),_=this.a);K--;)b[_]=b[_++-q];for(;8<=this.d;)this.d-=8,this.c--;this.a=_},O.prototype.C=function(A,d){var b=this.b,_=this.a;this.r=A;for(var v=b.length,x,V,q,K;(x=Ur(this,A))!==256;)if(256>x)_>=v&&(b=this.e(),v=b.length),b[_++]=x;else for(V=x-257,K=vr[V],0<I[V]&&(K+=cr(this,I[V])),x=Ur(this,d),q=F[x],0<w[x]&&(q+=cr(this,w[x])),_+K>v&&(b=this.e(),v=b.length);K--;)b[_]=b[_++-q];for(;8<=this.d;)this.d-=8,this.c--;this.a=_},O.prototype.e=function(){var A=new(u?Uint8Array:Array)(this.a-32768),d=this.a-32768,b,_,v=this.b;if(u)A.set(v.subarray(32768,A.length));else for(b=0,_=A.length;b<_;++b)A[b]=v[b+32768];if(this.i.push(A),this.n+=A.length,u)v.set(v.subarray(d,d+32768));else for(b=0;32768>b;++b)v[b]=v[d+b];return this.a=32768,v},O.prototype.D=function(A){var d,b=this.input.length/this.c+1|0,_,v,x,V=this.input,q=this.b;return A&&(typeof A.t=="number"&&(b=A.t),typeof A.z=="number"&&(b+=A.z)),2>b?(_=(V.length-this.c)/this.r[2],x=258*(_/2)|0,v=x<q.length?q.length+x:q.length<<1):v=q.length*b,u?(d=new Uint8Array(v),d.set(q)):d=q,this.b=d},O.prototype.q=function(){var A=0,d=this.b,b=this.i,_,v=new(u?Uint8Array:Array)(this.n+(this.a-32768)),x,V,q,K;if(b.length===0)return u?this.b.subarray(32768,this.a):this.b.slice(32768,this.a);for(x=0,V=b.length;x<V;++x)for(_=b[x],q=0,K=_.length;q<K;++q)v[A++]=_[q];for(x=32768,V=this.a;x<V;++x)v[A++]=d[x];return this.i=[],this.buffer=v},O.prototype.A=function(){var A,d=this.a;return u?this.w?(A=new Uint8Array(d),A.set(this.b.subarray(0,d))):A=this.b.subarray(0,d):(this.b.length>d&&(this.b.length=d),A=this.b),this.buffer=A};function Lr(A){this.input=A,this.c=0,this.m=[],this.s=!1}Lr.prototype.F=function(){return this.s||this.g(),this.m.slice()},Lr.prototype.g=function(){for(var A=this.input.length;this.c<A;){var d=new C,b=e,_=e,v=e,x=e,V=e,q=e,K=e,$=e,P=e,j=this.input,z=this.c;switch(d.u=j[z++],d.v=j[z++],(d.u!==31||d.v!==139)&&n(Error("invalid file signature:"+d.u+","+d.v)),d.p=j[z++],d.p){case 8:break;default:n(Error("unknown compression method: "+d.p))}if(d.h=j[z++],$=j[z++]|j[z++]<<8|j[z++]<<16|j[z++]<<24,d.H=new Date(1e3*$),d.N=j[z++],d.M=j[z++],0<(d.h&4)&&(d.I=j[z++]|j[z++]<<8,z+=d.I),0<(d.h&8)){for(K=[],q=0;0<(V=j[z++]);)K[q++]=String.fromCharCode(V);d.name=K.join("")}if(0<(d.h&16)){for(K=[],q=0;0<(V=j[z++]);)K[q++]=String.fromCharCode(V);d.J=K.join("")}0<(d.h&2)&&(d.B=f(j,0,z)&65535,d.B!==(j[z++]|j[z++]<<8)&&n(Error("invalid header crc16"))),b=j[j.length-4]|j[j.length-3]<<8|j[j.length-2]<<16|j[j.length-1]<<24,j.length-z-4-4<512*b&&(x=b),_=new O(j,{index:z,bufferSize:x}),d.data=v=_.g(),z=_.c,d.K=P=(j[z++]|j[z++]<<8|j[z++]<<16|j[z++]<<24)>>>0,f(v,e,e)!==P&&n(Error("invalid CRC-32 checksum: 0x"+f(v,e,e).toString(16)+" / 0x"+P.toString(16))),d.L=b=(j[z++]|j[z++]<<8|j[z++]<<16|j[z++]<<24)>>>0,(v.length&4294967295)!==b&&n(Error("invalid input size: "+(v.length&4294967295)+" / "+b)),this.m.push(d),this.c=z}this.s=!0;var sr=this.m,er,yr,xr=0,fr=0,hr;for(er=0,yr=sr.length;er<yr;++er)fr+=sr[er].data.length;if(u)for(hr=new Uint8Array(fr),er=0;er<yr;++er)hr.set(sr[er].data,xr),xr+=sr[er].data.length;else{for(hr=[],er=0;er<yr;++er)hr[er]=sr[er].data;hr=Array.prototype.concat.apply([],hr)}return hr},a("Zlib.Gunzip",Lr),a("Zlib.Gunzip.prototype.decompress",Lr.prototype.g),a("Zlib.Gunzip.prototype.getMembers",Lr.prototype.F),a("Zlib.GunzipMember",C),a("Zlib.GunzipMember.prototype.getName",C.prototype.getName),a("Zlib.GunzipMember.prototype.getData",C.prototype.getData),a("Zlib.GunzipMember.prototype.getMtime",C.prototype.G)}).call(Qr);function fo(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Mn={exports:{}},rr=Mn.exports={},Ar,Cr;function se(){throw new Error("setTimeout has not been defined")}function fe(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Ar=setTimeout:Ar=se}catch{Ar=se}try{typeof clearTimeout=="function"?Cr=clearTimeout:Cr=fe}catch{Cr=fe}})();function zn(n){if(Ar===setTimeout)return setTimeout(n,0);if((Ar===se||!Ar)&&setTimeout)return Ar=setTimeout,setTimeout(n,0);try{return Ar(n,0)}catch{try{return Ar.call(null,n,0)}catch{return Ar.call(this,n,0)}}}function lo(n){if(Cr===clearTimeout)return clearTimeout(n);if((Cr===fe||!Cr)&&clearTimeout)return Cr=clearTimeout,clearTimeout(n);try{return Cr(n)}catch{try{return Cr.call(null,n)}catch{return Cr.call(this,n)}}}var kr=[],Xr=!1,Mr,Mt=-1;function co(){!Xr||!Mr||(Xr=!1,Mr.length?kr=Mr.concat(kr):Mt=-1,kr.length&&Nn())}function Nn(){if(!Xr){var n=zn(co);Xr=!0;for(var e=kr.length;e;){for(Mr=kr,kr=[];++Mt<e;)Mr&&Mr[Mt].run();Mt=-1,e=kr.length}Mr=null,Xr=!1,lo(n)}}rr.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];kr.push(new Rn(n,e)),kr.length===1&&!Xr&&zn(Nn)};function Rn(n,e){this.fun=n,this.array=e}Rn.prototype.run=function(){this.fun.apply(null,this.array)};rr.title="browser";rr.browser=!0;rr.env={};rr.argv=[];rr.version="";rr.versions={};function Fr(){}rr.on=Fr;rr.addListener=Fr;rr.once=Fr;rr.off=Fr;rr.removeListener=Fr;rr.removeAllListeners=Fr;rr.emit=Fr;rr.prependListener=Fr;rr.prependOnceListener=Fr;rr.listeners=function(n){return[]};rr.binding=function(n){throw new Error("process.binding is not supported")};rr.cwd=function(){return"/"};rr.chdir=function(n){throw new Error("process.chdir is not supported")};rr.umask=function(){return 0};var ho=Mn.exports;const ct=fo(ho);function wr(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}function Ln(n,e){for(var t="",a=0,u=-1,f=0,h,g=0;g<=n.length;++g){if(g<n.length)h=n.charCodeAt(g);else{if(h===47)break;h=47}if(h===47){if(!(u===g-1||f===1))if(u!==g-1&&f===2){if(t.length<2||a!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var C=t.lastIndexOf("/");if(C!==t.length-1){C===-1?(t="",a=0):(t=t.slice(0,C),a=t.length-1-t.lastIndexOf("/")),u=g,f=0;continue}}else if(t.length===2||t.length===1){t="",a=0,u=g,f=0;continue}}e&&(t.length>0?t+="/..":t="..",a=2)}else t.length>0?t+="/"+n.slice(u+1,g):t=n.slice(u+1,g),a=g-u-1;u=g,f=0}else h===46&&f!==-1?++f:f=-1}return t}function vo(n,e){var t=e.dir||e.root,a=e.base||(e.name||"")+(e.ext||"");return t?t===e.root?t+a:t+n+a:a}var Jr={resolve:function(){for(var e="",t=!1,a,u=arguments.length-1;u>=-1&&!t;u--){var f;u>=0?f=arguments[u]:(a===void 0&&(a=ct.cwd()),f=a),wr(f),f.length!==0&&(e=f+"/"+e,t=f.charCodeAt(0)===47)}return e=Ln(e,!t),t?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(wr(e),e.length===0)return".";var t=e.charCodeAt(0)===47,a=e.charCodeAt(e.length-1)===47;return e=Ln(e,!t),e.length===0&&!t&&(e="."),e.length>0&&a&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return wr(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var a=arguments[t];wr(a),a.length>0&&(e===void 0?e=a:e+="/"+a)}return e===void 0?".":Jr.normalize(e)},relative:function(e,t){if(wr(e),wr(t),e===t||(e=Jr.resolve(e),t=Jr.resolve(t),e===t))return"";for(var a=1;a<e.length&&e.charCodeAt(a)===47;++a);for(var u=e.length,f=u-a,h=1;h<t.length&&t.charCodeAt(h)===47;++h);for(var g=t.length,C=g-h,U=f<C?f:C,G=-1,O=0;O<=U;++O){if(O===U){if(C>U){if(t.charCodeAt(h+O)===47)return t.slice(h+O+1);if(O===0)return t.slice(h+O)}else f>U&&(e.charCodeAt(a+O)===47?G=O:O===0&&(G=0));break}var W=e.charCodeAt(a+O),tr=t.charCodeAt(h+O);if(W!==tr)break;W===47&&(G=O)}var nr="";for(O=a+G+1;O<=u;++O)(O===u||e.charCodeAt(O)===47)&&(nr.length===0?nr+="..":nr+="/..");return nr.length>0?nr+t.slice(h+G):(h+=G,t.charCodeAt(h)===47&&++h,t.slice(h))},_makeLong:function(e){return e},dirname:function(e){if(wr(e),e.length===0)return".";for(var t=e.charCodeAt(0),a=t===47,u=-1,f=!0,h=e.length-1;h>=1;--h)if(t=e.charCodeAt(h),t===47){if(!f){u=h;break}}else f=!1;return u===-1?a?"/":".":a&&u===1?"//":e.slice(0,u)},basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');wr(e);var a=0,u=-1,f=!0,h;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var g=t.length-1,C=-1;for(h=e.length-1;h>=0;--h){var U=e.charCodeAt(h);if(U===47){if(!f){a=h+1;break}}else C===-1&&(f=!1,C=h+1),g>=0&&(U===t.charCodeAt(g)?--g===-1&&(u=h):(g=-1,u=C))}return a===u?u=C:u===-1&&(u=e.length),e.slice(a,u)}else{for(h=e.length-1;h>=0;--h)if(e.charCodeAt(h)===47){if(!f){a=h+1;break}}else u===-1&&(f=!1,u=h+1);return u===-1?"":e.slice(a,u)}},extname:function(e){wr(e);for(var t=-1,a=0,u=-1,f=!0,h=0,g=e.length-1;g>=0;--g){var C=e.charCodeAt(g);if(C===47){if(!f){a=g+1;break}continue}u===-1&&(f=!1,u=g+1),C===46?t===-1?t=g:h!==1&&(h=1):t!==-1&&(h=-1)}return t===-1||u===-1||h===0||h===1&&t===u-1&&t===a+1?"":e.slice(t,u)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return vo("/",e)},parse:function(e){wr(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var a=e.charCodeAt(0),u=a===47,f;u?(t.root="/",f=1):f=0;for(var h=-1,g=0,C=-1,U=!0,G=e.length-1,O=0;G>=f;--G){if(a=e.charCodeAt(G),a===47){if(!U){g=G+1;break}continue}C===-1&&(U=!1,C=G+1),a===46?h===-1?h=G:O!==1&&(O=1):h!==-1&&(O=-1)}return h===-1||C===-1||O===0||O===1&&h===C-1&&h===g+1?C!==-1&&(g===0&&u?t.base=t.name=e.slice(1,C):t.base=t.name=e.slice(g,C)):(g===0&&u?(t.name=e.slice(1,h),t.base=e.slice(1,C)):(t.name=e.slice(g,h),t.base=e.slice(g,C)),t.ext=e.slice(h,C)),g>0?t.dir=e.slice(0,g-1):u&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};Jr.posix=Jr;var ve=Jr;const po=Bn(ve),ru=Qa({__proto__:null,default:po},[ve]);var Nt={exports:{}};Nt.exports;(function(n,e){(function(t,a){a(e)})(Qr,function(t){function a(r,i){i=i|0;for(var o=Math.max(r.length-i,0),s=Array(o),l=0;l<o;l++)s[l]=r[i+l];return s}var u=function(r){var i=a(arguments,1);return function(){var o=a(arguments);return r.apply(null,i.concat(o))}},f=function(r){return function(){var i=a(arguments),o=i.pop();r.call(this,i,o)}};function h(r){var i=typeof r;return r!=null&&(i=="object"||i=="function")}var g=typeof setImmediate=="function"&&setImmediate,C=typeof ct=="object"&&typeof ct.nextTick=="function";function U(r){setTimeout(r,0)}function G(r){return function(i){var o=a(arguments,1);r(function(){i.apply(null,o)})}}var O;g?O=setImmediate:C?O=ct.nextTick:O=U;var W=G(O);function tr(r){return f(function(i,o){var s;try{s=r.apply(this,i)}catch(l){return o(l)}h(s)&&typeof s.then=="function"?s.then(function(l){nr(o,null,l)},function(l){nr(o,l.message?l:new Error(l))}):o(null,s)})}function nr(r,i,o){try{r(i,o)}catch(s){W(ur,s)}}function ur(r){throw r}var Tr=typeof Symbol=="function";function vr(r){return Tr&&r[Symbol.toStringTag]==="AsyncFunction"}function y(r){return vr(r)?tr(r):r}function I(r){return function(i){var o=a(arguments,1),s=f(function(l,c){var p=this;return r(i,function(m,S){y(m).apply(p,l.concat(S))},c)});return o.length?s.apply(this,o):s}}var L=typeof Qr=="object"&&Qr&&Qr.Object===Object&&Qr,F=typeof self=="object"&&self&&self.Object===Object&&self,T=L||F||Function("return this")(),w=T.Symbol,D=Object.prototype,k=D.hasOwnProperty,M=D.toString,R=w?w.toStringTag:void 0;function X(r){var i=k.call(r,R),o=r[R];try{r[R]=void 0;var s=!0}catch{}var l=M.call(r);return s&&(i?r[R]=o:delete r[R]),l}var lr=Object.prototype,Rr=lr.toString;function Gt(r){return Rr.call(r)}var cr="[object Null]",Ur="[object Undefined]",Lr=w?w.toStringTag:void 0;function A(r){return r==null?r===void 0?Ur:cr:Lr&&Lr in Object(r)?X(r):Gt(r)}var d="[object AsyncFunction]",b="[object Function]",_="[object GeneratorFunction]",v="[object Proxy]";function x(r){if(!h(r))return!1;var i=A(r);return i==b||i==_||i==d||i==v}var V=9007199254740991;function q(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=V}function K(r){return r!=null&&q(r.length)&&!x(r)}var $={};function P(){}function j(r){return function(){if(r!==null){var i=r;r=null,i.apply(this,arguments)}}}var z=typeof Symbol=="function"&&Symbol.iterator,sr=function(r){return z&&r[z]&&r[z]()};function er(r,i){for(var o=-1,s=Array(r);++o<r;)s[o]=i(o);return s}function yr(r){return r!=null&&typeof r=="object"}var xr="[object Arguments]";function fr(r){return yr(r)&&A(r)==xr}var hr=Object.prototype,Vr=hr.hasOwnProperty,jr=hr.propertyIsEnumerable,vt=fr(function(){return arguments}())?fr:function(r){return yr(r)&&Vr.call(r,"callee")&&!jr.call(r,"callee")},H=Array.isArray;function ri(){return!1}var be=typeof t=="object"&&t&&!t.nodeType&&t,we=be&&!0&&n&&!n.nodeType&&n,ti=we&&we.exports===be,Ae=ti?T.Buffer:void 0,ei=Ae?Ae.isBuffer:void 0,ni=ei||ri,ii=9007199254740991,ai=/^(?:0|[1-9]\d*)$/;function oi(r,i){var o=typeof r;return i=i??ii,!!i&&(o=="number"||o!="symbol"&&ai.test(r))&&r>-1&&r%1==0&&r<i}var ui="[object Arguments]",si="[object Array]",fi="[object Boolean]",li="[object Date]",ci="[object Error]",hi="[object Function]",vi="[object Map]",pi="[object Number]",yi="[object Object]",gi="[object RegExp]",di="[object Set]",mi="[object String]",_i="[object WeakMap]",bi="[object ArrayBuffer]",wi="[object DataView]",Ai="[object Float32Array]",Ci="[object Float64Array]",Ti="[object Int8Array]",Si="[object Int16Array]",ki="[object Int32Array]",Ei="[object Uint8Array]",Fi="[object Uint8ClampedArray]",Di="[object Uint16Array]",Ii="[object Uint32Array]",Y={};Y[Ai]=Y[Ci]=Y[Ti]=Y[Si]=Y[ki]=Y[Ei]=Y[Fi]=Y[Di]=Y[Ii]=!0,Y[ui]=Y[si]=Y[bi]=Y[fi]=Y[wi]=Y[li]=Y[ci]=Y[hi]=Y[vi]=Y[pi]=Y[yi]=Y[gi]=Y[di]=Y[mi]=Y[_i]=!1;function Li(r){return yr(r)&&q(r.length)&&!!Y[A(r)]}function ji(r){return function(i){return r(i)}}var Ce=typeof t=="object"&&t&&!t.nodeType&&t,et=Ce&&!0&&n&&!n.nodeType&&n,Bi=et&&et.exports===Ce,qt=Bi&&L.process,Te=function(){try{var r=et&&et.require&&et.require("util").types;return r||qt&&qt.binding&&qt.binding("util")}catch{}}(),Se=Te&&Te.isTypedArray,Oi=Se?ji(Se):Li,Ui=Object.prototype,xi=Ui.hasOwnProperty;function Pi(r,i){var o=H(r),s=!o&&vt(r),l=!o&&!s&&ni(r),c=!o&&!s&&!l&&Oi(r),p=o||s||l||c,m=p?er(r.length,String):[],S=m.length;for(var B in r)xi.call(r,B)&&!(p&&(B=="length"||l&&(B=="offset"||B=="parent")||c&&(B=="buffer"||B=="byteLength"||B=="byteOffset")||oi(B,S)))&&m.push(B);return m}var Mi=Object.prototype;function zi(r){var i=r&&r.constructor,o=typeof i=="function"&&i.prototype||Mi;return r===o}function Ni(r,i){return function(o){return r(i(o))}}var Ri=Ni(Object.keys,Object),Vi=Object.prototype,Gi=Vi.hasOwnProperty;function qi(r){if(!zi(r))return Ri(r);var i=[];for(var o in Object(r))Gi.call(r,o)&&o!="constructor"&&i.push(o);return i}function Kt(r){return K(r)?Pi(r):qi(r)}function Ki(r){var i=-1,o=r.length;return function(){return++i<o?{value:r[i],key:i}:null}}function Wi(r){var i=-1;return function(){var s=r.next();return s.done?null:(i++,{value:s.value,key:i})}}function Hi(r){var i=Kt(r),o=-1,s=i.length;return function l(){var c=i[++o];return c==="__proto__"?l():o<s?{value:r[c],key:c}:null}}function Yi(r){if(K(r))return Ki(r);var i=sr(r);return i?Wi(i):Hi(r)}function mr(r){return function(){if(r===null)throw new Error("Callback was already called.");var i=r;r=null,i.apply(this,arguments)}}function pt(r){return function(i,o,s){if(s=j(s||P),r<=0||!i)return s(null);var l=Yi(i),c=!1,p=0,m=!1;function S(E,N){if(p-=1,E)c=!0,s(E);else{if(N===$||c&&p<=0)return c=!0,s(null);m||B()}}function B(){for(m=!0;p<r&&!c;){var E=l();if(E===null){c=!0,p<=0&&s(null);return}p+=1,o(E.value,E.key,mr(S))}m=!1}B()}}function Pr(r,i,o,s){pt(i)(r,y(o),s)}function ar(r,i){return function(o,s,l){return r(o,i,s,l)}}function Zi(r,i,o){o=j(o||P);var s=0,l=0,c=r.length;c===0&&o(null);function p(m,S){m?o(m):(++l===c||S===$)&&o(null)}for(;s<c;s++)i(r[s],s,mr(p))}var Qi=ar(Pr,1/0),Br=function(r,i,o){var s=K(r)?Zi:Qi;s(r,y(i),o)};function Gr(r){return function(i,o,s){return r(Br,i,y(o),s)}}function ke(r,i,o,s){s=s||P,i=i||[];var l=[],c=0,p=y(o);r(i,function(m,S,B){var E=c++;p(m,function(N,Z){l[E]=Z,B(N)})},function(m){s(m,l)})}var yt=Gr(ke),Ee=I(yt);function qr(r){return function(i,o,s,l){return r(pt(o),i,y(s),l)}}var Kr=qr(ke),Wt=ar(Kr,1),Fe=I(Wt);function gt(r,i){for(var o=-1,s=r==null?0:r.length;++o<s&&i(r[o],o,r)!==!1;);return r}function Xi(r){return function(i,o,s){for(var l=-1,c=Object(i),p=s(i),m=p.length;m--;){var S=p[++l];if(o(c[S],S,c)===!1)break}return i}}var Ji=Xi();function nt(r,i){return r&&Ji(r,i,Kt)}function $i(r,i,o,s){for(var l=r.length,c=o+-1;++c<l;)if(i(r[c],c,r))return c;return-1}function ra(r){return r!==r}function ta(r,i,o){for(var s=o-1,l=r.length;++s<l;)if(r[s]===i)return s;return-1}function dt(r,i,o){return i===i?ta(r,i,o):$i(r,ra,o)}var Ht=function(r,i,o){typeof i=="function"&&(o=i,i=null),o=j(o||P);var s=Kt(r),l=s.length;if(!l)return o(null);i||(i=l);var c={},p=0,m=!1,S=Object.create(null),B=[],E=[],N={};nt(r,function(Q,J){if(!H(Q)){Z(J,[Q]),E.push(J);return}var ir=Q.slice(0,Q.length-1),Sr=ir.length;if(Sr===0){Z(J,Q),E.push(J);return}N[J]=Sr,gt(ir,function(Zr){if(!r[Zr])throw new Error("async.auto task `"+J+"` has a non-existent dependency `"+Zr+"` in "+ir.join(", "));_r(Zr,function(){Sr--,Sr===0&&Z(J,Q)})})}),Wa(),or();function Z(Q,J){B.push(function(){br(Q,J)})}function or(){if(B.length===0&&p===0)return o(null,c);for(;B.length&&p<i;){var Q=B.shift();Q()}}function _r(Q,J){var ir=S[Q];ir||(ir=S[Q]=[]),ir.push(J)}function gr(Q){var J=S[Q]||[];gt(J,function(ir){ir()}),or()}function br(Q,J){if(!m){var ir=mr(function(Zr,ae){if(p--,arguments.length>2&&(ae=a(arguments,1)),Zr){var oe={};nt(c,function(Ya,Za){oe[Za]=Ya}),oe[Q]=ae,m=!0,S=Object.create(null),o(Zr,oe)}else c[Q]=ae,gr(Q)});p++;var Sr=y(J[J.length-1]);J.length>1?Sr(c,ir):Sr(ir)}}function Wa(){for(var Q,J=0;E.length;)Q=E.pop(),J++,gt(Ha(Q),function(ir){--N[ir]===0&&E.push(ir)});if(J!==l)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function Ha(Q){var J=[];return nt(r,function(ir,Sr){H(ir)&&dt(ir,Q,0)>=0&&J.push(Sr)}),J}};function Wr(r,i){for(var o=-1,s=r==null?0:r.length,l=Array(s);++o<s;)l[o]=i(r[o],o,r);return l}var ea="[object Symbol]";function na(r){return typeof r=="symbol"||yr(r)&&A(r)==ea}var De=w?w.prototype:void 0,Ie=De?De.toString:void 0;function Yt(r){if(typeof r=="string")return r;if(H(r))return Wr(r,Yt)+"";if(na(r))return Ie?Ie.call(r):"";var i=r+"";return i=="0"&&1/r==-1/0?"-0":i}function ia(r,i,o){var s=-1,l=r.length;i<0&&(i=-i>l?0:l+i),o=o>l?l:o,o<0&&(o+=l),l=i>o?0:o-i>>>0,i>>>=0;for(var c=Array(l);++s<l;)c[s]=r[s+i];return c}function aa(r,i,o){var s=r.length;return o=o===void 0?s:o,!i&&o>=s?r:ia(r,i,o)}function oa(r,i){for(var o=r.length;o--&&dt(i,r[o],0)>-1;);return o}function ua(r,i){for(var o=-1,s=r.length;++o<s&&dt(i,r[o],0)>-1;);return o}function sa(r){return r.split("")}var fa="\\ud800-\\udfff",la="\\u0300-\\u036f",ca="\\ufe20-\\ufe2f",ha="\\u20d0-\\u20ff",va=la+ca+ha,pa="\\ufe0e\\ufe0f",ya="\\u200d",ga=RegExp("["+ya+fa+va+pa+"]");function da(r){return ga.test(r)}var Le="\\ud800-\\udfff",ma="\\u0300-\\u036f",_a="\\ufe20-\\ufe2f",ba="\\u20d0-\\u20ff",wa=ma+_a+ba,Aa="\\ufe0e\\ufe0f",Ca="["+Le+"]",Zt="["+wa+"]",Qt="\\ud83c[\\udffb-\\udfff]",Ta="(?:"+Zt+"|"+Qt+")",je="[^"+Le+"]",Be="(?:\\ud83c[\\udde6-\\uddff]){2}",Oe="[\\ud800-\\udbff][\\udc00-\\udfff]",Sa="\\u200d",Ue=Ta+"?",xe="["+Aa+"]?",ka="(?:"+Sa+"(?:"+[je,Be,Oe].join("|")+")"+xe+Ue+")*",Ea=xe+Ue+ka,Fa="(?:"+[je+Zt+"?",Zt,Be,Oe,Ca].join("|")+")",Da=RegExp(Qt+"(?="+Qt+")|"+Fa+Ea,"g");function Ia(r){return r.match(Da)||[]}function Pe(r){return da(r)?Ia(r):sa(r)}function La(r){return r==null?"":Yt(r)}var ja=/^\s+|\s+$/g;function Ba(r,i,o){if(r=La(r),r&&i===void 0)return r.replace(ja,"");if(!r||!(i=Yt(i)))return r;var s=Pe(r),l=Pe(i),c=ua(s,l),p=oa(s,l)+1;return aa(s,c,p).join("")}var Oa=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,Ua=/,/,xa=/(=.+)?(\s*)$/,Pa=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg;function Ma(r){return r=r.toString().replace(Pa,""),r=r.match(Oa)[2].replace(" ",""),r=r?r.split(Ua):[],r=r.map(function(i){return Ba(i.replace(xa,""))}),r}function Me(r,i){var o={};nt(r,function(s,l){var c,p=vr(s),m=!p&&s.length===1||p&&s.length===0;if(H(s))c=s.slice(0,-1),s=s[s.length-1],o[l]=c.concat(c.length>0?S:s);else if(m)o[l]=s;else{if(c=Ma(s),s.length===0&&!p&&c.length===0)throw new Error("autoInject task functions require explicit parameters.");p||c.pop(),o[l]=c.concat(S)}function S(B,E){var N=Wr(c,function(Z){return B[Z]});N.push(E),y(s).apply(null,N)}}),Ht(o,i)}function dr(){this.head=this.tail=null,this.length=0}function ze(r,i){r.length=1,r.head=r.tail=i}dr.prototype.removeLink=function(r){return r.prev?r.prev.next=r.next:this.head=r.next,r.next?r.next.prev=r.prev:this.tail=r.prev,r.prev=r.next=null,this.length-=1,r},dr.prototype.empty=function(){for(;this.head;)this.shift();return this},dr.prototype.insertAfter=function(r,i){i.prev=r,i.next=r.next,r.next?r.next.prev=i:this.tail=i,r.next=i,this.length+=1},dr.prototype.insertBefore=function(r,i){i.prev=r.prev,i.next=r,r.prev?r.prev.next=i:this.head=i,r.prev=i,this.length+=1},dr.prototype.unshift=function(r){this.head?this.insertBefore(this.head,r):ze(this,r)},dr.prototype.push=function(r){this.tail?this.insertAfter(this.tail,r):ze(this,r)},dr.prototype.shift=function(){return this.head&&this.removeLink(this.head)},dr.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},dr.prototype.toArray=function(){for(var r=Array(this.length),i=this.head,o=0;o<this.length;o++)r[o]=i.data,i=i.next;return r},dr.prototype.remove=function(r){for(var i=this.head;i;){var o=i.next;r(i)&&this.removeLink(i),i=o}return this};function Ne(r,i,o){if(i==null)i=1;else if(i===0)throw new Error("Concurrency must not be zero");var s=y(r),l=0,c=[],p=!1;function m(N,Z,or){if(or!=null&&typeof or!="function")throw new Error("task callback must be a function");if(E.started=!0,H(N)||(N=[N]),N.length===0&&E.idle())return W(function(){E.drain()});for(var _r=0,gr=N.length;_r<gr;_r++){var br={data:N[_r],callback:or||P};Z?E._tasks.unshift(br):E._tasks.push(br)}p||(p=!0,W(function(){p=!1,E.process()}))}function S(N){return function(Z){l-=1;for(var or=0,_r=N.length;or<_r;or++){var gr=N[or],br=dt(c,gr,0);br===0?c.shift():br>0&&c.splice(br,1),gr.callback.apply(gr,arguments),Z!=null&&E.error(Z,gr.data)}l<=E.concurrency-E.buffer&&E.unsaturated(),E.idle()&&E.drain(),E.process()}}var B=!1,E={_tasks:new dr,concurrency:i,payload:o,saturated:P,unsaturated:P,buffer:i/4,empty:P,drain:P,error:P,started:!1,paused:!1,push:function(N,Z){m(N,!1,Z)},kill:function(){E.drain=P,E._tasks.empty()},unshift:function(N,Z){m(N,!0,Z)},remove:function(N){E._tasks.remove(N)},process:function(){if(!B){for(B=!0;!E.paused&&l<E.concurrency&&E._tasks.length;){var N=[],Z=[],or=E._tasks.length;E.payload&&(or=Math.min(or,E.payload));for(var _r=0;_r<or;_r++){var gr=E._tasks.shift();N.push(gr),c.push(gr),Z.push(gr.data)}l+=1,E._tasks.length===0&&E.empty(),l===E.concurrency&&E.saturated();var br=mr(S(N));s(Z,br)}B=!1}},length:function(){return E._tasks.length},running:function(){return l},workersList:function(){return c},idle:function(){return E._tasks.length+l===0},pause:function(){E.paused=!0},resume:function(){E.paused!==!1&&(E.paused=!1,W(E.process))}};return E}function Re(r,i){return Ne(r,1,i)}var Hr=ar(Pr,1);function Or(r,i,o,s){s=j(s||P);var l=y(o);Hr(r,function(c,p,m){l(i,c,function(S,B){i=B,m(S)})},function(c){s(c,i)})}function Xt(){var r=Wr(arguments,y);return function(){var i=a(arguments),o=this,s=i[i.length-1];typeof s=="function"?i.pop():s=P,Or(r,i,function(l,c,p){c.apply(o,l.concat(function(m){var S=a(arguments,1);p(m,S)}))},function(l,c){s.apply(o,[l].concat(c))})}}var Ve=function(){return Xt.apply(null,a(arguments).reverse())},za=Array.prototype.concat,mt=function(r,i,o,s){s=s||P;var l=y(o);Kr(r,i,function(c,p){l(c,function(m){return m?p(m):p(null,a(arguments,1))})},function(c,p){for(var m=[],S=0;S<p.length;S++)p[S]&&(m=za.apply(m,p[S]));return s(c,m)})},Ge=ar(mt,1/0),qe=ar(mt,1),Ke=function(){var r=a(arguments),i=[null].concat(r);return function(){var o=arguments[arguments.length-1];return o.apply(this,i)}};function it(r){return r}function Yr(r,i){return function(o,s,l,c){c=c||P;var p=!1,m;o(s,function(S,B,E){l(S,function(N,Z){N?E(N):r(Z)&&!m?(p=!0,m=i(!0,S),E(null,$)):E()})},function(S){S?c(S):c(null,p?m:i(!1))})}}function We(r,i){return i}var _t=Gr(Yr(it,We)),at=qr(Yr(it,We)),bt=ar(at,1);function He(r){return function(i){var o=a(arguments,1);o.push(function(s){var l=a(arguments,1);typeof console=="object"&&(s?console.error&&console.error(s):console[r]&&gt(l,function(c){console[r](c)}))}),y(i).apply(null,o)}}var Ye=He("dir");function Ze(r,i,o){o=mr(o||P);var s=y(r),l=y(i);function c(m){if(m)return o(m);var S=a(arguments,1);S.push(p),l.apply(this,S)}function p(m,S){if(m)return o(m);if(!S)return o(null);s(c)}p(null,!0)}function Jt(r,i,o){o=mr(o||P);var s=y(r),l=function(c){if(c)return o(c);var p=a(arguments,1);if(i.apply(this,p))return s(l);o.apply(null,[null].concat(p))};s(l)}function Qe(r,i,o){Jt(r,function(){return!i.apply(this,arguments)},o)}function Xe(r,i,o){o=mr(o||P);var s=y(i),l=y(r);function c(m){if(m)return o(m);l(p)}function p(m,S){if(m)return o(m);if(!S)return o(null);s(c)}l(p)}function Je(r){return function(i,o,s){return r(i,s)}}function wt(r,i,o){Br(r,Je(y(i)),o)}function ot(r,i,o,s){pt(i)(r,Je(y(o)),s)}var ut=ar(ot,1);function $t(r){return vr(r)?r:f(function(i,o){var s=!0;i.push(function(){var l=arguments;s?W(function(){o.apply(null,l)}):o.apply(null,l)}),r.apply(this,i),s=!1})}function At(r){return!r}var Ct=Gr(Yr(At,At)),st=qr(Yr(At,At)),Tt=ar(st,1);function $e(r){return function(i){return i==null?void 0:i[r]}}function Na(r,i,o,s){var l=new Array(i.length);r(i,function(c,p,m){o(c,function(S,B){l[p]=!!B,m(S)})},function(c){if(c)return s(c);for(var p=[],m=0;m<i.length;m++)l[m]&&p.push(i[m]);s(null,p)})}function Ra(r,i,o,s){var l=[];r(i,function(c,p,m){o(c,function(S,B){S?m(S):(B&&l.push({index:p,value:c}),m())})},function(c){c?s(c):s(null,Wr(l.sort(function(p,m){return p.index-m.index}),$e("value")))})}function re(r,i,o,s){var l=K(i)?Na:Ra;l(r,i,y(o),s||P)}var St=Gr(re),ft=qr(re),kt=ar(ft,1);function rn(r,i){var o=mr(i||P),s=y($t(r));function l(c){if(c)return o(c);s(l)}l()}var Et=function(r,i,o,s){s=s||P;var l=y(o);Kr(r,i,function(c,p){l(c,function(m,S){return m?p(m):p(null,{key:S,val:c})})},function(c,p){for(var m={},S=Object.prototype.hasOwnProperty,B=0;B<p.length;B++)if(p[B]){var E=p[B].key,N=p[B].val;S.call(m,E)?m[E].push(N):m[E]=[N]}return s(c,m)})},tn=ar(Et,1/0),en=ar(Et,1),nn=He("log");function Ft(r,i,o,s){s=j(s||P);var l={},c=y(o);Pr(r,i,function(p,m,S){c(p,m,function(B,E){if(B)return S(B);l[m]=E,S()})},function(p){s(p,l)})}var an=ar(Ft,1/0),on=ar(Ft,1);function un(r,i){return i in r}function sn(r,i){var o=Object.create(null),s=Object.create(null);i=i||it;var l=y(r),c=f(function(m,S){var B=i.apply(null,m);un(o,B)?W(function(){S.apply(null,o[B])}):un(s,B)?s[B].push(S):(s[B]=[S],l.apply(null,m.concat(function(){var E=a(arguments);o[B]=E;var N=s[B];delete s[B];for(var Z=0,or=N.length;Z<or;Z++)N[Z].apply(null,E)})))});return c.memo=o,c.unmemoized=r,c}var Dt;C?Dt=ct.nextTick:g?Dt=setImmediate:Dt=U;var fn=G(Dt);function te(r,i,o){o=o||P;var s=K(i)?[]:{};r(i,function(l,c,p){y(l)(function(m,S){arguments.length>2&&(S=a(arguments,1)),s[c]=S,p(m)})},function(l){o(l,s)})}function ln(r,i){te(Br,r,i)}function cn(r,i,o){te(pt(i),r,o)}var ee=function(r,i){var o=y(r);return Ne(function(s,l){o(s[0],l)},i,1)},hn=function(r,i){var o=ee(r,i);return o.push=function(s,l,c){if(c==null&&(c=P),typeof c!="function")throw new Error("task callback must be a function");if(o.started=!0,H(s)||(s=[s]),s.length===0)return W(function(){o.drain()});l=l||0;for(var p=o._tasks.head;p&&l>=p.priority;)p=p.next;for(var m=0,S=s.length;m<S;m++){var B={data:s[m],priority:l,callback:c};p?o._tasks.insertBefore(p,B):o._tasks.push(B)}W(o.process)},delete o.unshift,o};function vn(r,i){if(i=j(i||P),!H(r))return i(new TypeError("First argument to race must be an array of functions"));if(!r.length)return i();for(var o=0,s=r.length;o<s;o++)y(r[o])(i)}function It(r,i,o,s){var l=a(r).reverse();Or(l,i,o,s)}function Lt(r){var i=y(r);return f(function(s,l){return s.push(function(p,m){if(p)l(null,{error:p});else{var S;arguments.length<=2?S=m:S=a(arguments,1),l(null,{value:S})}}),i.apply(this,s)})}function pn(r){var i;return H(r)?i=Wr(r,Lt):(i={},nt(r,function(o,s){i[s]=Lt.call(this,o)})),i}function yn(r,i,o,s){re(r,i,function(l,c){o(l,function(p,m){c(p,!m)})},s)}var gn=Gr(yn),ne=qr(yn),dn=ar(ne,1);function mn(r){return function(){return r}}function jt(r,i,o){var s=5,l=0,c={times:s,intervalFunc:mn(l)};function p(E,N){if(typeof N=="object")E.times=+N.times||s,E.intervalFunc=typeof N.interval=="function"?N.interval:mn(+N.interval||l),E.errorFilter=N.errorFilter;else if(typeof N=="number"||typeof N=="string")E.times=+N||s;else throw new Error("Invalid arguments for async.retry")}if(arguments.length<3&&typeof r=="function"?(o=i||P,i=r):(p(c,r),o=o||P),typeof i!="function")throw new Error("Invalid arguments for async.retry");var m=y(i),S=1;function B(){m(function(E){E&&S++<c.times&&(typeof c.errorFilter!="function"||c.errorFilter(E))?setTimeout(B,c.intervalFunc(S)):o.apply(null,arguments)})}B()}var _n=function(r,i){i||(i=r,r=null);var o=y(i);return f(function(s,l){function c(p){o.apply(null,s.concat(p))}r?jt(r,c,l):jt(c,l)})};function bn(r,i){te(Hr,r,i)}var Bt=Gr(Yr(Boolean,it)),lt=qr(Yr(Boolean,it)),Ot=ar(lt,1);function wn(r,i,o){var s=y(i);yt(r,function(c,p){s(c,function(m,S){if(m)return p(m);p(null,{value:c,criteria:S})})},function(c,p){if(c)return o(c);o(null,Wr(p.sort(l),$e("value")))});function l(c,p){var m=c.criteria,S=p.criteria;return m<S?-1:m>S?1:0}}function An(r,i,o){var s=y(r);return f(function(l,c){var p=!1,m;function S(){var B=r.name||"anonymous",E=new Error('Callback function "'+B+'" timed out.');E.code="ETIMEDOUT",o&&(E.info=o),p=!0,c(E)}l.push(function(){p||(c.apply(null,arguments),clearTimeout(m))}),m=setTimeout(S,i),s.apply(null,l)})}var Va=Math.ceil,Ga=Math.max;function qa(r,i,o,s){for(var l=-1,c=Ga(Va((i-r)/o),0),p=Array(c);c--;)p[++l]=r,r+=o;return p}function Ut(r,i,o,s){var l=y(o);Kr(qa(0,r,1),i,l,s)}var Cn=ar(Ut,1/0),Tn=ar(Ut,1);function Sn(r,i,o,s){arguments.length<=3&&(s=o,o=i,i=H(r)?[]:{}),s=j(s||P);var l=y(o);Br(r,function(c,p,m){l(i,c,p,m)},function(c){s(c,i)})}function kn(r,i){var o=null,s;i=i||P,ut(r,function(l,c){y(l)(function(p,m){arguments.length>2?s=a(arguments,1):s=m,o=p,c(!p)})},function(){i(o,s)})}function En(r){return function(){return(r.unmemoized||r).apply(null,arguments)}}function ie(r,i,o){o=mr(o||P);var s=y(i);if(!r())return o(null);var l=function(c){if(c)return o(c);if(r())return s(l);var p=a(arguments,1);o.apply(null,[null].concat(p))};s(l)}function Fn(r,i,o){ie(function(){return!r.apply(this,arguments)},i,o)}var Dn=function(r,i){if(i=j(i||P),!H(r))return i(new Error("First argument to waterfall must be an array of functions"));if(!r.length)return i();var o=0;function s(c){var p=y(r[o++]);c.push(mr(l)),p.apply(null,c)}function l(c){if(c||o===r.length)return i.apply(null,arguments);s(a(arguments,1))}s([])},Ka={apply:u,applyEach:Ee,applyEachSeries:Fe,asyncify:tr,auto:Ht,autoInject:Me,cargo:Re,compose:Ve,concat:Ge,concatLimit:mt,concatSeries:qe,constant:Ke,detect:_t,detectLimit:at,detectSeries:bt,dir:Ye,doDuring:Ze,doUntil:Qe,doWhilst:Jt,during:Xe,each:wt,eachLimit:ot,eachOf:Br,eachOfLimit:Pr,eachOfSeries:Hr,eachSeries:ut,ensureAsync:$t,every:Ct,everyLimit:st,everySeries:Tt,filter:St,filterLimit:ft,filterSeries:kt,forever:rn,groupBy:tn,groupByLimit:Et,groupBySeries:en,log:nn,map:yt,mapLimit:Kr,mapSeries:Wt,mapValues:an,mapValuesLimit:Ft,mapValuesSeries:on,memoize:sn,nextTick:fn,parallel:ln,parallelLimit:cn,priorityQueue:hn,queue:ee,race:vn,reduce:Or,reduceRight:It,reflect:Lt,reflectAll:pn,reject:gn,rejectLimit:ne,rejectSeries:dn,retry:jt,retryable:_n,seq:Xt,series:bn,setImmediate:W,some:Bt,someLimit:lt,someSeries:Ot,sortBy:wn,timeout:An,times:Cn,timesLimit:Ut,timesSeries:Tn,transform:Sn,tryEach:kn,unmemoize:En,until:Fn,waterfall:Dn,whilst:ie,all:Ct,allLimit:st,allSeries:Tt,any:Bt,anyLimit:lt,anySeries:Ot,find:_t,findLimit:at,findSeries:bt,forEach:wt,forEachSeries:ut,forEachLimit:ot,forEachOf:Br,forEachOfSeries:Hr,forEachOfLimit:Pr,inject:Or,foldl:Or,foldr:It,select:St,selectLimit:ft,selectSeries:kt,wrapSync:tr};t.default=Ka,t.apply=u,t.applyEach=Ee,t.applyEachSeries=Fe,t.asyncify=tr,t.auto=Ht,t.autoInject=Me,t.cargo=Re,t.compose=Ve,t.concat=Ge,t.concatLimit=mt,t.concatSeries=qe,t.constant=Ke,t.detect=_t,t.detectLimit=at,t.detectSeries=bt,t.dir=Ye,t.doDuring=Ze,t.doUntil=Qe,t.doWhilst=Jt,t.during=Xe,t.each=wt,t.eachLimit=ot,t.eachOf=Br,t.eachOfLimit=Pr,t.eachOfSeries=Hr,t.eachSeries=ut,t.ensureAsync=$t,t.every=Ct,t.everyLimit=st,t.everySeries=Tt,t.filter=St,t.filterLimit=ft,t.filterSeries=kt,t.forever=rn,t.groupBy=tn,t.groupByLimit=Et,t.groupBySeries=en,t.log=nn,t.map=yt,t.mapLimit=Kr,t.mapSeries=Wt,t.mapValues=an,t.mapValuesLimit=Ft,t.mapValuesSeries=on,t.memoize=sn,t.nextTick=fn,t.parallel=ln,t.parallelLimit=cn,t.priorityQueue=hn,t.queue=ee,t.race=vn,t.reduce=Or,t.reduceRight=It,t.reflect=Lt,t.reflectAll=pn,t.reject=gn,t.rejectLimit=ne,t.rejectSeries=dn,t.retry=jt,t.retryable=_n,t.seq=Xt,t.series=bn,t.setImmediate=W,t.some=Bt,t.someLimit=lt,t.someSeries=Ot,t.sortBy=wn,t.timeout=An,t.times=Cn,t.timesLimit=Ut,t.timesSeries=Tn,t.transform=Sn,t.tryEach=kn,t.unmemoize=En,t.until=Fn,t.waterfall=Dn,t.whilst=ie,t.all=Ct,t.allLimit=st,t.allSeries=Tt,t.any=Bt,t.anyLimit=lt,t.anySeries=Ot,t.find=_t,t.findLimit=at,t.findSeries=bt,t.forEach=wt,t.forEachSeries=ut,t.forEachLimit=ot,t.forEachOf=Br,t.forEachOfSeries=Hr,t.forEachOfLimit=Pr,t.inject=Or,t.foldl=Or,t.foldr=It,t.select=St,t.selectLimit=ft,t.selectSeries=kt,t.wrapSync=tr,Object.defineProperty(t,"__esModule",{value:!0})})})(Nt,Nt.exports);var yo=Nt.exports,Vn={exports:{}};(function(n){(function(){var e="\0",t=0,a=0,u=-1,f=!0,h=!0,g=4,C=4,U=2,G=function(y){y==null&&(y=1024);var I=function(k,M,R){for(var X=M;X<R;X++)k[X]=-X+1;if(0<D.array[D.array.length-1]){for(var lr=D.array.length-2;0<D.array[lr];)lr--;k[M]=-lr}},L=function(k,M,R){for(var X=M;X<R;X++)k[X]=-X-1},F=function(k){var M=k*U,R=tr(w.signed,w.bytes,M);I(R,w.array.length,M),R.set(w.array),w.array=null,w.array=R;var X=tr(D.signed,D.bytes,M);L(X,D.array.length,M),X.set(D.array),D.array=null,D.array=X},T=a+1,w={signed:f,bytes:g,array:tr(f,g,y)},D={signed:h,bytes:C,array:tr(h,C,y)};return w.array[a]=1,D.array[a]=a,I(w.array,a+1,w.array.length),L(D.array,a+1,D.array.length),{getBaseBuffer:function(){return w.array},getCheckBuffer:function(){return D.array},loadBaseBuffer:function(k){return w.array=k,this},loadCheckBuffer:function(k){return D.array=k,this},size:function(){return Math.max(w.array.length,D.array.length)},getBase:function(k){return w.array.length-1<k?-k+1:w.array[k]},getCheck:function(k){return D.array.length-1<k?-k-1:D.array[k]},setBase:function(k,M){w.array.length-1<k&&F(k),w.array[k]=M},setCheck:function(k,M){D.array.length-1<k&&F(k),D.array[k]=M},setFirstUnusedNode:function(k){T=k},getFirstUnusedNode:function(){return T},shrink:function(){for(var k=this.size()-1;!(0<=D.array[k]);)k--;w.array=w.array.subarray(0,k+2),D.array=D.array.subarray(0,k+2)},calc:function(){for(var k=0,M=D.array.length,R=0;R<M;R++)D.array[R]<0&&k++;return{all:M,unused:k,efficiency:(M-k)/M}},dump:function(){var k="",M="",R;for(R=0;R<w.array.length;R++)k=k+" "+this.getBase(R);for(R=0;R<D.array.length;R++)M=M+" "+this.getCheck(R);return console.log("base:"+k),console.log("chck:"+M),"base:"+k+" chck:"+M}}};function O(y){this.bc=G(y),this.keys=[]}O.prototype.append=function(y,I){return this.keys.push({k:y,v:I}),this},O.prototype.build=function(y,I){if(y==null&&(y=this.keys),y==null)return new W(this.bc);I==null&&(I=!1);var L=y.map(function(F){return{k:ur(F.k+e),v:F.v}});return I?this.keys=L:this.keys=L.sort(function(F,T){for(var w=F.k,D=T.k,k=Math.min(w.length,D.length),M=0;M<k;M++)if(w[M]!==D[M])return w[M]-D[M];return w.length-D.length}),L=null,this._build(a,0,0,this.keys.length),new W(this.bc)},O.prototype._build=function(y,I,L,F){var T=this.getChildrenInfo(I,L,F),w=this.findAllocatableBase(T);this.setBC(y,T,w);for(var D=0;D<T.length;D=D+3){var k=T[D];if(k!==t){var M=T[D+1],R=T[D+2],X=w+k;this._build(X,I+1,M,R)}}},O.prototype.getChildrenInfo=function(y,I,L){var F=this.keys[I].k[y],T=0,w=new Int32Array(L*3);w[T++]=F,w[T++]=I;for(var D=I,k=I;D<I+L;D++){var M=this.keys[D].k[y];F!==M&&(w[T++]=D-k,w[T++]=M,w[T++]=D,F=M,k=D)}return w[T++]=D-k,w=w.subarray(0,T),w},O.prototype.setBC=function(y,I,L){var F=this.bc;F.setBase(y,L);var T;for(T=0;T<I.length;T=T+3){var w=I[T],D=L+w,k=-F.getBase(D),M=-F.getCheck(D);D!==F.getFirstUnusedNode()?F.setCheck(k,-M):F.setFirstUnusedNode(M),F.setBase(M,-k);var R=y;if(F.setCheck(D,R),w===t){var X=I[T+1],lr=this.keys[X].v;lr==null&&(lr=0);var Rr=-lr-1;F.setBase(D,Rr)}}},O.prototype.findAllocatableBase=function(y){for(var I=this.bc,L,F=I.getFirstUnusedNode();;){if(L=F-y[0],L<0){F=-I.getCheck(F);continue}for(var T=!0,w=0;w<y.length;w=w+3){var D=y[w],k=L+D;if(!this.isUnusedNode(k)){F=-I.getCheck(F),T=!1;break}}if(T)return L}},O.prototype.isUnusedNode=function(y){var I=this.bc,L=I.getCheck(y);return y===a?!1:L<0};function W(y){this.bc=y,this.bc.shrink()}W.prototype.contain=function(y){var I=this.bc;y+=e;for(var L=ur(y),F=a,T=u,w=0;w<L.length;w++){var D=L[w];if(T=this.traverse(F,D),T===u)return!1;if(I.getBase(T)<=0)return!0;F=T}return!1},W.prototype.lookup=function(y){y+=e;for(var I=ur(y),L=a,F=u,T=0;T<I.length;T++){var w=I[T];if(F=this.traverse(L,w),F===u)return u;L=F}var D=this.bc.getBase(F);return D<=0?-D-1:u},W.prototype.commonPrefixSearch=function(y){for(var I=ur(y),L=a,F=u,T=[],w=0;w<I.length;w++){var D=I[w];if(F=this.traverse(L,D),F!==u){L=F;var k=this.traverse(F,t);if(k!==u){var M=this.bc.getBase(k),R={};M<=0&&(R.v=-M-1),R.k=Tr(nr(I,0,w+1)),T.push(R)}continue}else break}return T},W.prototype.traverse=function(y,I){var L=this.bc.getBase(y)+I;return this.bc.getCheck(L)===y?L:u},W.prototype.size=function(){return this.bc.size()},W.prototype.calc=function(){return this.bc.calc()},W.prototype.dump=function(){return this.bc.dump()};var tr=function(y,I,L){switch(I){case 1:return new Int8Array(L);case 2:return new Int16Array(L);case 4:return new Int32Array(L);default:throw new RangeError("Invalid newArray parameter element_bytes:"+I)}},nr=function(y,I,L){var F=new ArrayBuffer(L),T=new Uint8Array(F,0,L),w=y.subarray(I,L);return T.set(w),T},ur=function(y){for(var I=new Uint8Array(new ArrayBuffer(y.length*4)),L=0,F=0;L<y.length;){var T,w=y.charCodeAt(L++);if(w>=55296&&w<=56319){var D=w,k=y.charCodeAt(L++);if(k>=56320&&k<=57343)T=(D-55296)*1024+65536+(k-56320);else return null}else T=w;T<128?I[F++]=T:T<2048?(I[F++]=T>>>6|192,I[F++]=T&63|128):T<65536?(I[F++]=T>>>12|224,I[F++]=T>>6&63|128,I[F++]=T&63|128):T<1<<21&&(I[F++]=T>>>18|240,I[F++]=T>>12&63|128,I[F++]=T>>6&63|128,I[F++]=T&63|128)}return I.subarray(0,F)},Tr=function(y){for(var I="",L,F,T,w,D,k,M,R=0;R<y.length;)F=y[R++],F<128?L=F:F>>5===6?(T=y[R++],L=(F&31)<<6|T&63):F>>4===14?(T=y[R++],w=y[R++],L=(F&15)<<12|(T&63)<<6|w&63):(T=y[R++],w=y[R++],D=y[R++],L=(F&7)<<18|(T&63)<<12|(w&63)<<6|D&63),L<65536?I+=String.fromCharCode(L):(L-=65536,k=55296|L>>10,M=56320|L&1023,I+=String.fromCharCode(k,M));return I},vr={builder:function(y){return new O(y)},load:function(y,I){var L=G(0);return L.loadBaseBuffer(y),L.loadCheckBuffer(I),new W(L)}};n.exports=vr})()})(Vn);var Gn=Vn.exports,go=function(n){for(var e=new Uint8Array(n.length*4),t=0,a=0;t<n.length;){var u,f=n.charCodeAt(t++);if(f>=55296&&f<=56319){var h=f,g=n.charCodeAt(t++);if(g>=56320&&g<=57343)u=(h-55296)*1024+65536+(g-56320);else return null}else u=f;u<128?e[a++]=u:u<2048?(e[a++]=u>>>6|192,e[a++]=u&63|128):u<65536?(e[a++]=u>>>12|224,e[a++]=u>>6&63|128,e[a++]=u&63|128):u<1<<21&&(e[a++]=u>>>18|240,e[a++]=u>>12&63|128,e[a++]=u>>6&63|128,e[a++]=u&63|128)}return e.subarray(0,a)},mo=function(n){for(var e="",t,a,u,f,h,g,C,U=0;U<n.length;)a=n[U++],a<128?t=a:a>>5===6?(u=n[U++],t=(a&31)<<6|u&63):a>>4===14?(u=n[U++],f=n[U++],t=(a&15)<<12|(u&63)<<6|f&63):(u=n[U++],f=n[U++],h=n[U++],t=(a&7)<<18|(u&63)<<12|(f&63)<<6|h&63),t<65536?e+=String.fromCharCode(t):(t-=65536,g=55296|t>>10,C=56320|t&1023,e+=String.fromCharCode(g,C));return e};function pr(n){var e;if(n==null)e=1024*1024;else if(typeof n=="number")e=n;else if(n instanceof Uint8Array){this.buffer=n,this.position=0;return}else throw typeof n+" is invalid parameter type for ByteBuffer constructor";this.buffer=new Uint8Array(e),this.position=0}pr.prototype.size=function(){return this.buffer.length};pr.prototype.reallocate=function(){var n=new Uint8Array(this.buffer.length*2);n.set(this.buffer),this.buffer=n};pr.prototype.shrink=function(){return this.buffer=this.buffer.subarray(0,this.position),this.buffer};pr.prototype.put=function(n){this.buffer.length<this.position+1&&this.reallocate(),this.buffer[this.position++]=n};pr.prototype.get=function(n){return n==null&&(n=this.position,this.position+=1),this.buffer.length<n+1?0:this.buffer[n]};pr.prototype.putShort=function(n){if(65535<n)throw n+" is over short value";var e=255&n,t=(65280&n)>>8;this.put(e),this.put(t)};pr.prototype.getShort=function(n){if(n==null&&(n=this.position,this.position+=2),this.buffer.length<n+2)return 0;var e=this.buffer[n],t=this.buffer[n+1],a=(t<<8)+e;return a&32768&&(a=-(a-1^65535)),a};pr.prototype.putInt=function(n){if(4294967295<n)throw n+" is over integer value";var e=255&n,t=(65280&n)>>8,a=(16711680&n)>>16,u=(4278190080&n)>>24;this.put(e),this.put(t),this.put(a),this.put(u)};pr.prototype.getInt=function(n){if(n==null&&(n=this.position,this.position+=4),this.buffer.length<n+4)return 0;var e=this.buffer[n],t=this.buffer[n+1],a=this.buffer[n+2],u=this.buffer[n+3];return(u<<24)+(a<<16)+(t<<8)+e};pr.prototype.readInt=function(){var n=this.position;return this.position+=4,this.getInt(n)};pr.prototype.putString=function(n){for(var e=go(n),t=0;t<e.length;t++)this.put(e[t]);this.put(0)};pr.prototype.getString=function(n){var e=[],t;for(n==null&&(n=this.position);!(this.buffer.length<n+1||(t=this.get(n++),t===0));)e.push(t);return this.position=n,mo(e)};var pe=pr,rt=pe;function Dr(){this.dictionary=new rt(10*1024*1024),this.target_map={},this.pos_buffer=new rt(10*1024*1024)}Dr.prototype.buildDictionary=function(n){for(var e={},t=0;t<n.length;t++){var a=n[t];if(!(a.length<4)){var u=a[0],f=a[1],h=a[2],g=a[3],C=a.slice(4).join(",");(!isFinite(f)||!isFinite(h)||!isFinite(g))&&console.log(a);var U=this.put(f,h,g,u,C);e[U]=u}}return this.dictionary.shrink(),this.pos_buffer.shrink(),e};Dr.prototype.put=function(n,e,t,a,u){var f=this.dictionary.position,h=this.pos_buffer.position;return this.dictionary.putShort(n),this.dictionary.putShort(e),this.dictionary.putShort(t),this.dictionary.putInt(h),this.pos_buffer.putString(a+","+u),f};Dr.prototype.addMapping=function(n,e){var t=this.target_map[n];t==null&&(t=[]),t.push(e),this.target_map[n]=t};Dr.prototype.targetMapToBuffer=function(){var n=new rt,e=Object.keys(this.target_map).length;n.putInt(e);for(var t in this.target_map){var a=this.target_map[t],u=a.length;n.putInt(parseInt(t)),n.putInt(u);for(var f=0;f<a.length;f++)n.putInt(a[f])}return n.shrink()};Dr.prototype.loadDictionary=function(n){return this.dictionary=new rt(n),this};Dr.prototype.loadPosVector=function(n){return this.pos_buffer=new rt(n),this};Dr.prototype.loadTargetMap=function(n){var e=new rt(n);for(e.position=0,this.target_map={},e.readInt();!(e.buffer.length<e.position+1);)for(var t=e.readInt(),a=e.readInt(),u=0;u<a;u++){var f=e.readInt();this.addMapping(t,f)}return this};Dr.prototype.getFeatures=function(n){var e=parseInt(n);if(isNaN(e))return"";var t=this.dictionary.getInt(e+6);return this.pos_buffer.getString(t)};var ye=Dr;function Vt(n,e){this.forward_dimension=n,this.backward_dimension=e,this.buffer=new Int16Array(n*e+2),this.buffer[0]=n,this.buffer[1]=e}Vt.prototype.put=function(n,e,t){var a=n*this.backward_dimension+e+2;if(this.buffer.length<a+1)throw"ConnectionCosts buffer overflow";this.buffer[a]=t};Vt.prototype.get=function(n,e){var t=n*this.backward_dimension+e+2;if(this.buffer.length<t+1)throw"ConnectionCosts buffer overflow";return this.buffer[t]};Vt.prototype.loadConnectionCosts=function(n){this.forward_dimension=n[0],this.backward_dimension=n[1],this.buffer=n};var qn=Vt;function _o(n,e,t,a,u){this.class_id=n,this.class_name=e,this.is_always_invoke=t,this.is_grouping=a,this.max_length=u}var Kn=_o,Wn=pe,bo=Kn;function zr(){this.map=[],this.lookup_table={}}zr.load=function(n){for(var e=new zr,t=[],a=new Wn(n);a.position+1<a.size();){var u=t.length,f=a.get(),h=a.get(),g=a.getInt(),C=a.getString();t.push(new bo(u,C,f,h,g))}return e.init(t),e};zr.prototype.init=function(n){if(n!=null)for(var e=0;e<n.length;e++){var t=n[e];this.map[e]=t,this.lookup_table[t.class_name]=e}};zr.prototype.getCharacterClass=function(n){return this.map[n]};zr.prototype.lookup=function(n){var e=this.lookup_table[n];return e??null};zr.prototype.toBuffer=function(){for(var n=new Wn,e=0;e<this.map.length;e++){var t=this.map[e];n.put(t.is_always_invoke),n.put(t.is_grouping),n.putInt(t.max_length),n.putString(t.class_name)}return n.shrink(),n.buffer};var Hn=zr,wo=Hn,Ao=Kn,Co=xn,le="DEFAULT";function Er(){this.character_category_map=new Uint8Array(65536),this.compatible_category_map=new Uint32Array(65536),this.invoke_definition_map=null}Er.load=function(n,e,t){var a=new Er;return a.character_category_map=n,a.compatible_category_map=e,a.invoke_definition_map=wo.load(t),a};Er.parseCharCategory=function(n,e){var t=e[1],a=parseInt(e[2]),u=parseInt(e[3]),f=parseInt(e[4]);if(!isFinite(a)||a!==0&&a!==1)return console.log("char.def parse error. INVOKE is 0 or 1 in:"+a),null;if(!isFinite(u)||u!==0&&u!==1)return console.log("char.def parse error. GROUP is 0 or 1 in:"+u),null;if(!isFinite(f)||f<0)return console.log("char.def parse error. LENGTH is 1 to n:"+f),null;var h=a===1,g=u===1;return new Ao(n,t,h,g,f)};Er.parseCategoryMapping=function(n){var e=parseInt(n[1]),t=n[2],a=3<n.length?n.slice(3):[];return(!isFinite(e)||e<0||e>65535)&&console.log("char.def parse error. CODE is invalid:"+e),{start:e,default:t,compatible:a}};Er.parseRangeCategoryMapping=function(n){var e=parseInt(n[1]),t=parseInt(n[2]),a=n[3],u=4<n.length?n.slice(4):[];return(!isFinite(e)||e<0||e>65535)&&console.log("char.def parse error. CODE is invalid:"+e),(!isFinite(t)||t<0||t>65535)&&console.log("char.def parse error. CODE is invalid:"+t),{start:e,end:t,default:a,compatible:u}};Er.prototype.initCategoryMappings=function(n){var e;if(n!=null)for(var t=0;t<n.length;t++){var a=n[t],u=a.end||a.start;for(e=a.start;e<=u;e++){this.character_category_map[e]=this.invoke_definition_map.lookup(a.default);for(var f=0;f<a.compatible.length;f++){var h=this.compatible_category_map[e],g=a.compatible[f];if(g!=null){var C=this.invoke_definition_map.lookup(g);if(C!=null){var U=1<<C;h=h|U,this.compatible_category_map[e]=h}}}}}var G=this.invoke_definition_map.lookup(le);if(G!=null)for(e=0;e<this.character_category_map.length;e++)this.character_category_map[e]===0&&(this.character_category_map[e]=1<<G)};Er.prototype.lookupCompatibleCategory=function(n){var e=[],t=n.charCodeAt(0),a;if(t<this.compatible_category_map.length&&(a=this.compatible_category_map[t]),a==null||a===0)return e;for(var u=0;u<32;u++)if(a<<31-u>>>31===1){var f=this.invoke_definition_map.getCharacterClass(u);if(f==null)continue;e.push(f)}return e};Er.prototype.lookup=function(n){var e,t=n.charCodeAt(0);return Co.isSurrogatePair(n)?e=this.invoke_definition_map.lookup(le):t<this.character_category_map.length&&(e=this.character_category_map[t]),e==null&&(e=this.invoke_definition_map.lookup(le)),this.invoke_definition_map.getCharacterClass(e)};var Yn=Er,To=ye,So=Yn,jn=pe;function tt(){this.dictionary=new jn(10*1024*1024),this.target_map={},this.pos_buffer=new jn(10*1024*1024),this.character_definition=null}tt.prototype=Object.create(To.prototype);tt.prototype.characterDefinition=function(n){return this.character_definition=n,this};tt.prototype.lookup=function(n){return this.character_definition.lookup(n)};tt.prototype.lookupCompatibleCategory=function(n){return this.character_definition.lookupCompatibleCategory(n)};tt.prototype.loadUnknownDictionaries=function(n,e,t,a,u,f){this.loadDictionary(n),this.loadPosVector(e),this.loadTargetMap(t),this.character_definition=So.load(a,u,f)};var Zn=tt,Qn=Gn,ko=ye,Eo=qn,Fo=Zn;function ht(n,e,t,a){n!=null?this.trie=n:this.trie=Qn.builder(0).build([{k:"",v:1}]),e!=null?this.token_info_dictionary=e:this.token_info_dictionary=new ko,t!=null?this.connection_costs=t:this.connection_costs=new Eo(0,0),a!=null?this.unknown_dictionary=a:this.unknown_dictionary=new Fo}ht.prototype.loadTrie=function(n,e){return this.trie=Qn.load(n,e),this};ht.prototype.loadTokenInfoDictionaries=function(n,e,t){return this.token_info_dictionary.loadDictionary(n),this.token_info_dictionary.loadPosVector(e),this.token_info_dictionary.loadTargetMap(t),this};ht.prototype.loadConnectionCosts=function(n){return this.connection_costs.loadConnectionCosts(n),this};ht.prototype.loadUnknownDictionaries=function(n,e,t,a,u,f){return this.unknown_dictionary.loadUnknownDictionaries(n,e,t,a,u,f),this};var Xn=ht,xt=ve,Pt=yo,Do=Xn;function ge(n){this.dic=new Do,this.dic_path=n}ge.prototype.loadArrayBuffer=function(n,e){throw new Error("DictionaryLoader#loadArrayBuffer should be overwrite")};ge.prototype.load=function(n){var e=this.dic,t=this.dic_path,a=this.loadArrayBuffer;Pt.parallel([function(u){Pt.map(["base.dat.gz","check.dat.gz"],function(f,h){a(xt.join(t,f),function(g,C){if(g)return h(g);h(null,C)})},function(f,h){if(f)return u(f);var g=new Int32Array(h[0]),C=new Int32Array(h[1]);e.loadTrie(g,C),u(null)})},function(u){Pt.map(["tid.dat.gz","tid_pos.dat.gz","tid_map.dat.gz"],function(f,h){a(xt.join(t,f),function(g,C){if(g)return h(g);h(null,C)})},function(f,h){if(f)return u(f);var g=new Uint8Array(h[0]),C=new Uint8Array(h[1]),U=new Uint8Array(h[2]);e.loadTokenInfoDictionaries(g,C,U),u(null)})},function(u){a(xt.join(t,"cc.dat.gz"),function(f,h){if(f)return u(f);var g=new Int16Array(h);e.loadConnectionCosts(g),u(null)})},function(u){Pt.map(["unk.dat.gz","unk_pos.dat.gz","unk_map.dat.gz","unk_char.dat.gz","unk_compat.dat.gz","unk_invoke.dat.gz"],function(f,h){a(xt.join(t,f),function(g,C){if(g)return h(g);h(null,C)})},function(f,h){if(f)return u(f);var g=new Uint8Array(h[0]),C=new Uint8Array(h[1]),U=new Uint8Array(h[2]),G=new Uint8Array(h[3]),O=new Uint32Array(h[4]),W=new Uint8Array(h[5]);e.loadUnknownDictionaries(g,C,U,G,O,W),u(null)})}],function(u){n(u,e)})};var Io=ge,Lo=so,Jn=Io;function de(n){Jn.apply(this,[n])}de.prototype=Object.create(Jn.prototype);de.prototype.loadArrayBuffer=function(n,e){var t=new XMLHttpRequest;t.open("GET",n,!0),t.responseType="arraybuffer",t.onload=function(){if(this.status>0&&this.status!==200){e(t.statusText,null);return}var a=this.response,u=new Lo.Zlib.Gunzip(new Uint8Array(a)),f=u.decompress();e(null,f.buffer)},t.onerror=function(a){e(a,null)},t.send()};var jo=de,Bo=uo,Oo=jo;function $n(n){n.dicPath==null?this.dic_path="dict/":this.dic_path=n.dicPath}$n.prototype.build=function(n){var e=new Oo(this.dic_path);e.load(function(t,a){n(t,new Bo(a))})};var Uo=$n,xo=qn;function me(){this.lines=0,this.connection_cost=null}me.prototype.putLine=function(n){if(this.lines===0){var e=n.split(" "),t=e[0],a=e[1];if(t<0||a<0)throw"Parse error of matrix.def";return this.connection_cost=new xo(t,a),this.lines++,this}var u=n.split(" ");if(u.length!==3)return this;var f=parseInt(u[0]),h=parseInt(u[1]),g=parseInt(u[2]);if(f<0||h<0||!isFinite(f)||!isFinite(h)||this.connection_cost.forward_dimension<=f||this.connection_cost.backward_dimension<=h)throw"Parse error of matrix.def";return this.connection_cost.put(f,h,g),this.lines++,this};me.prototype.build=function(){return this.connection_cost};var Po=me,zt=Yn,Mo=Hn,zo=/^(\w+)\s+(\d)\s+(\d)\s+(\d)/,No=/^(0x[0-9A-F]{4})(?:\s+([^#\s]+))(?:\s+([^#\s]+))*/,Ro=/^(0x[0-9A-F]{4})\.\.(0x[0-9A-F]{4})(?:\s+([^#\s]+))(?:\s+([^#\s]+))*/;function _e(){this.char_def=new zt,this.char_def.invoke_definition_map=new Mo,this.character_category_definition=[],this.category_mapping=[]}_e.prototype.putLine=function(n){var e=zo.exec(n);if(e!=null){var t=this.character_category_definition.length,a=zt.parseCharCategory(t,e);if(a==null)return;this.character_category_definition.push(a);return}var u=No.exec(n);if(u!=null){var f=zt.parseCategoryMapping(u);this.category_mapping.push(f)}var h=Ro.exec(n);if(h!=null){var g=zt.parseRangeCategoryMapping(h);this.category_mapping.push(g)}};_e.prototype.build=function(){return this.char_def.invoke_definition_map.init(this.character_category_definition),this.char_def.initCategoryMappings(this.category_mapping),this.char_def};var Vo=_e,Go=Gn,qo=Xn,Ko=ye,Wo=Po,Ho=Vo,Yo=Zn;function Ir(){this.tid_entries=[],this.unk_entries=[],this.cc_builder=new Wo,this.cd_builder=new Ho}Ir.prototype.addTokenInfoDictionary=function(n){var e=n.split(",");return this.tid_entries.push(e),this};Ir.prototype.putCostMatrixLine=function(n){return this.cc_builder.putLine(n),this};Ir.prototype.putCharDefLine=function(n){return this.cd_builder.putLine(n),this};Ir.prototype.putUnkDefLine=function(n){return this.unk_entries.push(n.split(",")),this};Ir.prototype.build=function(){var n=this.buildTokenInfoDictionary(),e=this.buildUnknownDictionary();return new qo(n.trie,n.token_info_dictionary,this.cc_builder.build(),e)};Ir.prototype.buildTokenInfoDictionary=function(){var n=new Ko,e=n.buildDictionary(this.tid_entries),t=this.buildDoubleArray();for(var a in e){var u=e[a],f=t.lookup(u);n.addMapping(f,a)}return{trie:t,token_info_dictionary:n}};Ir.prototype.buildUnknownDictionary=function(){var n=new Yo,e=n.buildDictionary(this.unk_entries),t=this.cd_builder.build();n.characterDefinition(t);for(var a in e){var u=e[a],f=t.invoke_definition_map.lookup(u);n.addMapping(f,a)}return n};Ir.prototype.buildDoubleArray=function(){var n=0,e=this.tid_entries.map(function(a){var u=a[0];return{k:u,v:n++}}),t=Go.builder(1024*1024);return t.build(e)};var Zo=Ir,Qo=Uo,Xo=Zo,Jo={builder:function(n){return new Qo(n)},dictionaryBuilder:function(){return new Xo}},$o=Jo;const tu=Bn($o);export{Bn as g,ru as i,tu as k};
